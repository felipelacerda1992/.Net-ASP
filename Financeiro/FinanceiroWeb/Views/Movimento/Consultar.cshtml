
@{
    Layout = "~/Views/Shared/_template.cshtml";
}
@using (Html.BeginForm("FiltrarMov", "Movimento", FormMethod.Post))
{
    <!-- /. ROW  -->
    <hr />
    <div class="form-group">
        <label>Tipo de movimentação:</label>
        <select class="form-control" name="tipo">
            @{ string sel = "";}

            <option value="2" @{if (ViewBag.tipo_mov == "2") { sel = "selected"; } else { sel = ""; } } @sel>
                Todos
            </option>
            <option value="0" @{if (ViewBag.tipo_mov == "0") { sel = "selected"; } else { sel = ""; } } @sel>
                Entrada
            </option>
            <option value="1" @{if (ViewBag.tipo_mov == "1") { sel = "selected"; } else { sel = ""; } } @sel>
                Saída
            </option>
        </select>
        <br>
        <label>Data Inicial</label>
        <input type="date" class="form-control" name="dtInicial" value="@ViewBag.DataInicial" />
        <br>
        <label>Data Final</label>
        <input type="date" class="form-control" name="dtFinal" value="@ViewBag.DataFinal" />
        <br>
    </div>

    <button type="submit" class="btn btn-info" name="btnPesquisar">Pesquisar</button>
}
<!-- /. ROW  -->
<hr />
@{if (ViewBag.movimentos != null)
    {
        <div class="row">
            <div class="col-md-12">
                <!-- Advanced Tables -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Lista de Movimentos
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Conta/Banco</th>
                                        <th>Empresa </th>
                                        <th>Categoria </th>
                                        <th>Data </th>
                                        <th>Valor</th>
                                        <th>Observação</th>

                                        <th>Ação</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in ViewBag.movimentos)
                                    {

                                        <tr class="odd gradeX">
                                            <td> @item.Tipo</td>
                                            <td> @item.Conta</td>
                                            <td> @item.Empresa</td>
                                            <td> @item.Categoria</td>
                                            <td> @item.Data</td>
                                            <td> @item.Valor</td>
                                            <td> @item.Observacao</td>

                                        </tr>
                                    }



                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
                <!--End Advanced Tables -->
            </div>
        </div>
    }


}